<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 22nd Birthday, Lochan!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* General styles and variables */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --pastel-pink: #FFD1DC; /* Light Pink */
            --pastel-blue: #B5EAD7; /* Light Cyan */
            --pastel-purple: #C7CEEA; /* Light Periwinkle */
            --pastel-yellow: #FFEBAE; /* Light Yellow */
            --space-dark: #0a0a2a; /* Very Dark Blue */
            --space-blue: #1a1a4a; /* Dark Blue */
            --accent: #FF6B6B; /* Bright Red-Orange */
            --text-light: #FFF8E6; /* Off-white */
            --gradient-1: linear-gradient(135deg, var(--space-dark), var(--space-blue));
            --gradient-2: linear-gradient(45deg, var(--pastel-purple), var(--pastel-blue));
            --gradient-3: linear-gradient(45deg, var(--pastel-yellow), var(--accent), var(--pastel-pink));
        }

        body {
            background: var(--gradient-1);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Stars background */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            background-image: radial-gradient(circle at top left, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                              radial-gradient(circle at bottom right, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 100px 100px;
            animation: star-move 60s linear infinite;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration, 5s) infinite ease-in-out alternate, 
                       float-star var(--float-duration, 10s) infinite ease-in-out;
            opacity: 0;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
        }

        @keyframes float-star {
            0%, 100% { transform: translateY(0px) translateX(0px); }
            50% { transform: translateY(10px) translateX(5px); }
        }

        @keyframes star-move {
            from { background-position: 0 0; }
            to { background-position: 1000px 1000px; }
        }

        /* Header and navigation */
        header {
            position: sticky;
            top: 0;
            width: 100%;
            padding: 15px 20px;
            z-index: 100;
            background: rgba(10, 10, 42, 0.92);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--pastel-yellow);
            text-align: center;
            text-shadow: 0 0 15px rgba(255, 235, 174, 0.6);
            letter-spacing: 1px;
        }

        .logo span {
            color: var(--accent);
            font-size: 2.5rem;
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: rgba(183, 156, 217, 0.3);
            color: var(--text-light);
            border: none;
            padding: 8px 18px;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .nav-btn i {
            transition: transform 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(183, 156, 217, 0.6);
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(183, 156, 217, 0.4);
        }

        .nav-btn:hover i {
            transform: scale(1.2);
        }

        .nav-btn.active {
            background: var(--pastel-purple);
            color: var(--space-dark);
            font-weight: 700;
            box-shadow: 0 8px 20px rgba(199, 206, 234, 0.6);
        }
        
        .nav-btn.active i {
            transform: scale(1.1);
            color: var(--accent);
        }

        /* Main container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex-grow: 1;
        }

        .page {
            display: none;
            min-height: calc(100vh - 150px);
            padding-top: 30px;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.8s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Common elements */
        .section-title {
            text-align: center;
            font-size: 2.4rem;
            margin: 30px 0;
            color: var(--pastel-yellow);
            text-shadow: 0 0 15px rgba(255, 235, 174, 0.6);
            position: relative;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 120px;
            height: 4px;
            background: var(--accent);
            margin: 15px auto;
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .card {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(12px);
            border-radius: 25px;
            padding: 25px;
            margin: 25px auto;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255,255,255,0.05) 0%, transparent 70%);
            transform: rotate(45deg);
            animation: card-glow 15s linear infinite;
            pointer-events: none;
        }

        @keyframes card-glow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .btn {
            background: var(--gradient-2);
            color: var(--space-dark);
            border: none;
            padding: 14px 30px;
            border-radius: 35px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            text-align: center;
            font-size: 1.1rem;
            box-shadow: 0 8px 20px rgba(183, 156, 217, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            transition: width 0.4s ease, height 0.4s ease, top 0.4s ease, left 0.4s ease;
            transform: translate(-50%, -50%);
            z-index: -1;
        }

        .btn:hover:before {
            width: 200%;
            height: 200%;
            top: 0;
            left: 0;
        }

        .btn:hover {
            transform: translateY(-7px);
            box-shadow: 0 15px 30px rgba(183, 156, 217, 0.6);
        }

        /* Home page */
        .hero {
            text-align: center;
            padding: 50px 20px;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 25px;
            background: var(--gradient-3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 25px rgba(255, 107, 107, 0.4);
            letter-spacing: 1px;
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 650px;
            margin: 0 auto 35px;
            color: var(--pastel-blue);
            line-height: 1.6;
        }

        .planet-container {
            position: relative;
            height: 280px;
            margin: 50px auto;
            width: 280px;
        }

        .planet {
            width: 220px;
            height: 220px;
            background: radial-gradient(circle at 30% 30%, var(--pastel-pink), var(--pastel-purple));
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 60px rgba(199, 206, 234, 0.7);
            animation: float 6s ease-in-out infinite;
        }

        .planet-ring {
            position: absolute;
            width: 280px;
            height: 60px;
            background: rgba(183, 156, 217, 0.4);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(20deg);
            box-shadow: 0 0 15px rgba(183, 156, 217, 0.7);
        }

        .rocket {
            position: absolute;
            font-size: 2.5rem;
            top: 20px;
            left: 20px;
            animation: launch 8s infinite linear;
            filter: drop-shadow(0 0 8px gold);
        }

        @keyframes float {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-50%, -55%) rotate(5deg); }
            50% { transform: translate(-50%, -50%) rotate(0deg); }
            75% { transform: translate(-50%, -45%) rotate(-5deg); }
        }

        @keyframes launch {
            0% { transform: translate(0, 0) rotate(0); }
            25% { transform: translate(200px, -150px) rotate(20deg); }
            50% { transform: translate(400px, -50px) rotate(0); }
            75% { transform: translate(600px, -150px) rotate(-20deg); }
            100% { transform: translate(800px, 0) rotate(0); }
        }

        /* About page */
        .profile {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin: 35px 0;
        }

        .avatar {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--pastel-blue), var(--pastel-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4.5rem;
            color: var(--space-dark);
            border: 6px solid var(--pastel-yellow);
            box-shadow: 0 0 40px rgba(255, 235, 174, 0.7);
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .facts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .fact-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 18px;
            padding: 25px;
            text-align: center;
            transition: all 0.4s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .fact-card:hover {
            transform: translateY(-12px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--pastel-blue);
        }

        .fact-card i {
            font-size: 2.5rem;
            color: var(--pastel-yellow);
            margin-bottom: 15px;
            text-shadow: 0 0 15px rgba(255, 235, 174, 0.7);
        }

        /* Memories page */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .memory-item {
            height: 220px;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.4s ease;
            border: 2px solid transparent;
        }

        .memory-item:hover {
            transform: scale(1.08);
            box-shadow: 0 15px 35px rgba(255, 255, 255, 0.25);
            border-color: var(--pastel-yellow);
        }

        .memory-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.6s ease;
        }

        .memory-item:hover .memory-img {
            transform: scale(1.15);
        }

        .memory-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 42, 0.85);
            padding: 12px;
            transform: translateY(100%);
            transition: all 0.4s ease;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--pastel-blue);
        }

        .memory-item:hover .memory-caption {
            transform: translateY(0);
        }

        /* Games page */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            transition: all 0.4s ease;
            border: 2px solid transparent;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 350px;
        }

        .game-card:hover {
            transform: translateY(-12px);
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--pastel-purple);
            box-shadow: 0 15px 40px rgba(183, 156, 217, 0.4);
        }

        .game-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: var(--pastel-yellow);
            text-shadow: 0 0 20px rgba(255, 235, 174, 0.7);
        }

        .game-title {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--pastel-blue);
            font-weight: 700;
        }

        .game-description {
            flex-grow: 1;
            margin-bottom: 20px;
        }

        /* Messages page */
        .message-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
            max-width: 650px;
            margin: 0 auto;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-group label {
            font-weight: 700;
            color: var(--pastel-blue);
            font-size: 1.1rem;
        }

        .form-group input,
        .form-group textarea {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.25);
            border-radius: 15px;
            padding: 15px 20px;
            color: var(--text-light);
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--pastel-purple);
            box-shadow: 0 0 15px rgba(199, 206, 234, 0.5);
        }

        .form-group textarea {
            min-height: 180px;
            resize: vertical;
        }

        .message-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .message-sender {
            font-weight: bold;
            color: var(--pastel-yellow);
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        /* Surprise page */
        .cake-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 50px auto;
        }

        .cake {
            position: absolute;
            width: 200px;
            height: 80px;
            background: linear-gradient(to right, #e0a070, #d08a60, #c07650);
            border-radius: 10px 10px 0 0;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .cake-layer {
            position: absolute;
            width: 220px;
            height: 40px;
            background: linear-gradient(to right, #f8d7d7, #f0b7b7, #e8a0a0);
            border-radius: 50%;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .cake-top {
            position: absolute;
            width: 180px;
            height: 30px;
            background: linear-gradient(to right, #ff9e9e, #ff6b6b, #ff3b3b);
            border-radius: 50%;
            bottom: 145px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .candle {
            position: absolute;
            width: 8px;
            height: 50px;
            background: linear-gradient(to bottom, var(--pastel-blue), var(--pastel-purple), #8a6dd1);
            bottom: 150px;
            border-radius: 4px 4px 0 0;
            box-shadow: 0 0 10px rgba(183, 156, 217, 0.6);
        }

        .flame {
            position: absolute;
            width: 15px;
            height: 25px;
            background: linear-gradient(to bottom, var(--accent), var(--pastel-yellow), gold);
            border-radius: 50% 50% 20% 20%;
            bottom: 200px;
            animation: flicker 0.8s infinite alternate;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.8);
        }

        @keyframes flicker {
            0% { transform: scale(1); opacity: 0.9; }
            100% { transform: scale(1.2); opacity: 1; }
        }

        .blow-btn {
            margin: 40px auto;
            display: block;
            font-size: 1.2rem;
        }

        .playlist-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 15px 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .playlist-item audio {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            background: rgba(10, 10, 42, 0.7);
        }

        .hearts {
            color: var(--accent);
            animation: pulse 1.5s infinite;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.8);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        /* Game modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 42, 0.95);
            z-index: 1000;
            backdrop-filter: blur(10px);
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 30px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid var(--pastel-purple);
            box-shadow: 0 0 50px rgba(199, 206, 234, 0.8);
            position: relative;
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .modal.active .modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            color: var(--accent);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            transform: rotate(90deg) scale(1.2);
        }

        .game-area {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Camera and recorder */
        .camera-container, .recorder-container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        #camera-preview, #video-preview {
            width: 100%;
            max-width: 500px;
            height: 300px;
            background: #000;
            border-radius: 15px;
            margin: 20px auto;
            display: block;
        }

        .capture-btn {
            margin: 15px;
            padding: 12px 25px;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            background: var(--accent);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        /* Spinner styles */
        .spinner-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
        }
        
        .spinner-wheel {
            width: 300px;
            height: 300px;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            border: 8px solid var(--pastel-purple);
            box-shadow: 0 0 20px rgba(199, 206, 234, 0.8);
            transition: transform 4s cubic-bezier(0.2, 0.8, 0.2, 1); /* Smooth spin */
        }
        
        .spinner-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .spinner-segment-inner {
            position: absolute;
            width: 200%;
            height: 200%;
            transform: rotate(45deg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--space-dark);
            text-align: center;
            padding: 10px;
            box-sizing: border-box;
            background-color: var(--segment-color); /* Dynamic color */
            transition: background-color 0.3s ease;
        }
        
        .spinner-pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            background: var(--accent);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            z-index: 10;
        }
        
        .spinner-result {
            margin-top: 30px;
            text-align: center;
            min-height: 150px;
            width: 100%;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .spinner-result h3 {
            color: var(--pastel-yellow);
            margin-bottom: 10px;
        }
        
        .spinner-result p {
            font-style: italic;
            font-size: 1.1rem;
        }
        
        .spinner-result .message-text {
            margin-top: 15px;
            font-size: 1.2rem;
            color: var(--pastel-blue);
        }

        /* Interstellar Game Specific Styles */
        #game-board {
            position: relative;
            width: 100%;
            height: 400px;
            background: #000;
            border: 3px solid var(--pastel-purple);
            overflow: hidden;
            border-radius: 10px;
            margin: 0 auto;
            /* Removed background-image to avoid "Space Background" text */
            background-size: cover;
            background-position: center;
        }

        #spaceship {
            position: absolute;
            bottom: 20px;
            left: 50%;
            width: 50px;
            height: 50px;
            transform: translateX(-50%);
            background: none; /* Remove background color */
            font-size: 40px; /* Make emoji larger */
            text-align: center;
            line-height: 50px;
            transition: left 0.1s linear; /* Smooth movement */
            filter: drop-shadow(0 0 5px var(--pastel-yellow));
        }

        .asteroid {
            position: absolute;
            width: 30px;
            height: 30px;
            background: none; /* Remove background color */
            font-size: 25px; /* Make emoji larger */
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            filter: drop-shadow(0 0 3px #999);
        }

        .present {
            position: absolute;
            width: 25px;
            height: 25px;
            background: none; /* Remove background color */
            font-size: 20px; /* Make emoji larger */
            text-align: center;
            line-height: 25px;
            border: none; /* Remove border */
            border-radius: 5px;
            filter: drop-shadow(0 0 5px gold);
        }


        /* Responsive design */
        @media (max-width: 768px) {
            .hero h1 { font-size: 3rem; }
            .section-title { font-size: 2rem; }
            .games-grid { grid-template-columns: 1fr; }
            .nav-btn { padding: 7px 14px; font-size: 0.9rem; }
            .cake-container { transform: scale(0.9); }
            .spinner-wheel { width: 250px; height: 250px; }
        }

        @media (max-width: 480px) {
            .hero h1 { font-size: 2.5rem; }
            .section-title { font-size: 1.8rem; }
            .nav-btn { padding: 6px 12px; font-size: 0.85rem; }
            .btn { padding: 12px 20px; font-size: 1rem; }
            .cake-container { transform: scale(0.8); }
            .spinner-wheel { width: 200px; height: 200px; }
        }
    </style>
</head>
<body>
    <!-- Star background -->
    <div class="stars" id="stars"></div>
    
    <!-- Header with Navigation -->
    <header>
        <div class="logo">Happyyy <span>22</span> ✨</div>
        <nav>
            <button class="nav-btn active" data-page="home"><i class="fas fa-home"></i> Home</button>
            <button class="nav-btn" data-page="about"><i class="fas fa-user-astronaut"></i> About</button>
            <button class="nav-btn" data-page="memories"><i class="fas fa-images"></i> Memories</button>
            <button class="nav-btn" data-page="games"><i class="fas fa-gamepad"></i> Games</button>
            <button class="nav-btn" data-page="messages"><i class="fas fa-envelope"></i> Messages</button>
            <button class="nav-btn" data-page="surprise"><i class="fas fa-gift"></i> Surprise!</button>
        </nav>
    </header>
    
    <div class="container">
        <!-- Home Page -->
        <section id="home" class="page active">
            <div class="hero">
                <h1>Happy 22nd Birthday, Lochan!</h1>
<p>       In the story of my life, you are the most beautiful line On your birthday, may life gift you the joy you’ve given me.</p>
                <div class="planet-container">
                    <div class="rocket">🚀</div>
                    <div class="planet"></div>
                    <div class="planet-ring"></div>
                </div>
                <button class="btn" id="explore-btn">Click Here💗<i class="fas fa-arrow-right"></i></button>
            </div>
            
            <div class="card">
                <h2 class="section-title">You Know What?</h2>
<center>
                <p>Each corner of this celebration holds surprises, memories, and moments made just for you.</p>
</center>
<br></br>
                <div style="text-align: center; margin-top: 25px;">
                    <button class="btn" id="quick-surprise">ykw?😤 </button>
                </div>
            </div>
            
            <div class="card">
                <h2 class="section-title">Countdown to Celebration</h2>
                <div style="display: flex; justify-content: center; gap: 20px; margin-top: 25px; flex-wrap: wrap;">
                    <div style="text-align: center; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 20px; min-width: 100px;">
                        <div style="font-size: 2.5rem; font-weight: bold; color: var(--pastel-yellow);">22</div>
                        <div>Years</div>
                    </div>
                    <div style="text-align: center; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 20px; min-width: 100px;">
                        <div style="font-size: 2.5rem; font-weight: bold; color: var(--pastel-pink);">264</div>
                        <div>Months</div>
                    </div>
                    <div style="text-align: center; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 20px; min-width: 100px;">
                        <div style="font-size: 2.5rem; font-weight: bold; color: var(--pastel-blue);">8,030</div>
                        <div>Days</div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- About Page -->
        <section id="about" class="page">
            <h2 class="section-title">About Lochan</h2>
            
            <div class="card">
                <div class="profile">
                    <div class="avatar">🫂</div>
                    <h3>Lochan • 22 • My Love</h3>
                    <p> Football star • Megha ka Fav • College ki shaan • iOS ka Teacher • </p>
                </div>
                
                <div class="facts">
                    <div class="fact-card">
<i class="fas fa-futbol"></i>


                        <h4>Football Pro</h4>

                        <p>Haww smone is famous</p>
                    </div>
                    <div class="fact-card">
                        <i class="fas fa-film"></i>
                        <h4>Movie </h4>
                        <p>Loves Interstellar, Inception, Harry Potter, and 500 Days of Summer.</p>
                    </div>
                    <div class="fact-card">
                        <i class="fas fa-music"></i>
                        <h4>He Loves</h4>
                        <p>Is That Charlie? Or me?👉🏻👈🏻</p>
                    </div>
                    <div class="fact-card">
                        <i class="fas fa-hat-wizard"></i>
                        <h4>Harry Potter Fan</h4>
                        <p>Knows every spell and Hogwarts house details. Gryffindor at heart!</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 25px; font-size: 1.8rem; color: var(--pastel-blue);">Lochan's Superpowers</h3>
                <div style="background: rgba(255,255,255,0.08); padding: 20px; border-radius: 20px; margin: 15px 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Making people smile</span>
                        <span>100%</span>
                    </div>
                    <div style="height: 15px; background: rgba(255,255,255,0.15); border-radius: 10px;">
                        <div style="height: 100%; width: 100%; background: var(--pastel-blue); border-radius: 10px;"></div>
                    </div>
                </div>
                <div style="background: rgba(255,255,255,0.08); padding: 20px; border-radius: 20px; margin: 15px 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Football skills</span>
                        <span>95%</span>
                    </div>
                    <div style="height: 15px; background: rgba(255,255,255,0.15); border-radius: 10px;">
                        <div style="height: 100%; width: 95%; background: var(--pastel-purple); border-radius: 10px;"></div>
                    </div>
                </div>
                <div style="background: rgba(255,255,255,0.08); padding: 20px; border-radius: 20px; margin: 15px 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Harry Potter knowledge</span>
                        <span>98%</span>
                    </div>
                    <div style="height: 15px; background: rgba(255,255,255,0.15); border-radius: 10px;">
                        <div style="height: 100%; width: 98%; background: var(--pastel-pink); border-radius: 10px;"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Memories Page -->
        <section id="memories" class="page">
            <h2 class="section-title">Memory Galaxy</h2>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 25px; font-size: 1.8rem; color: var(--pastel-blue);">Through the Years</h3>
                <div class="gallery">
                    <div class="memory-item">
                        <div class="memory-img" style="background: linear-gradient(45deg, var(--pastel-blue), var(--pastel-purple)); display: flex; align-items: center; justify-content: center; font-size: 3.5rem;">📸</div>
                        <div class="memory-caption">Our first adventure together</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-img" style="background: linear-gradient(45deg, var(--pastel-pink), var(--accent)); display: flex; align-items: center; justify-content: center; font-size: 3.5rem;">🏆</div>
                        <div class="memory-caption">Football victory celebration!</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-img" style="background: linear-gradient(45deg, var(--pastel-yellow), var(--pastel-pink)); display: flex; align-items: center; justify-content: center; font-size: 3.5rem;">🎬</div>
                        <div class="memory-caption">Movie night marathon</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-img" style="background: linear-gradient(45deg, var(--pastel-purple), var(--pastel-blue)); display: flex; align-items: center; justify-content: center; font-size: 3.5rem;">🎉</div>
                        <div class="memory-caption">Last year's birthday bash</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-img" style="background: linear-gradient(45deg, var(--accent), var(--pastel-yellow)); display: flex; align-items: center; justify-content: center; font-size: 3.5rem;">🌌</div>
                        <div class="memory-caption">Stargazing adventure</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-img" style="background: linear-gradient(45deg, var(--pastel-blue), var(--pastel-pink)); display: flex; align-items: center; justify-content: center; font-size: 3.5rem;">🎁</div>
                        <div class="memory-caption">Surprise gift moment</div>
                    </div>
                </div>
         
            </div>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 25px; font-size: 1.8rem; color: var(--pastel-blue);">Create New Memory</h3>
                <div class="camera-container">
                    <video id="video-preview" autoplay playsinline></video>
                    <button class="btn" id="start-camera"><i class="fas fa-camera"></i> Start Camera</button>
                    <button class="btn capture-btn" id="capture-btn" disabled><i class="fas fa-camera"></i></button>
                    <canvas id="canvas" style="display:none;"></canvas>
                </div>
                <div class="recorder-container" style="margin-top: 30px;">
                    <audio id="audio-playback" controls style="width:100%; max-width:500px; margin:20px auto; display:block;"></audio>
                    <button class="btn" id="start-recording"><i class="fas fa-microphone"></i> Start Recording</button>
                    <button class="btn" id="stop-recording" disabled><i class="fas fa-stop"></i> Stop Recording</button>
                </div>
            </div>
        </section>
        
        <!-- Games Page -->
        <section id="games" class="page">
            <h2 class="section-title">Space Games</h2>
            
            <div class="card">
                <p style="text-align: center; margin-bottom: 30px; font-size: 1.2rem; max-width: 700px; margin-left: auto; margin-right: auto;">Choose your cosmic adventure! Each game is specially designed for your birthday. Click to play!</p>
                
                <div class="games-grid">
                    <div class="game-card" data-game="music">
                        <div class="game-icon">🎵</div>
                        <h3 class="game-title">Charlie Puth Quiz</h3>
                        <p class="game-description">How well do you know Charlie's songs? Test your knowledge with 5 tricky questions!</p>
                        <button class="btn play-btn" style="margin-top: auto;">Start Quiz</button>
                    </div>
                    
                    <div class="game-card" data-game="harry">
                        <div class="game-icon">⚡</div>
                        <h3 class="game-title">Harry Potter Quiz</h3>
                        <p class="game-description">Prove your Hogwarts knowledge! Can you answer all questions correctly?</p>
                        <button class="btn play-btn" style="margin-top: auto;">Start Quiz</button>
                    </div>
                    
                    <div class="game-card" data-game="interstellar">
                        <div class="game-icon">🚀</div>
                        <h3 class="game-title">Interstellar Challenge</h3>
                        <p class="game-description">Navigate through a black hole while collecting birthday presents! Dodge asteroids.</p>
                        <button class="btn play-btn" style="margin-top: auto;">Play Game</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Messages Page -->
        <section id="messages" class="page">
            <h2 class="section-title">Secret Messages</h2>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 25px; font-size: 1.8rem; color: var(--pastel-blue);">Send Lochan a Birthday Wish</h3>
                
                <div class="message-form">
                    <div class="form-group">
                        <label for="sender">Your Name</label>
                        <input type="text" id="sender" placeholder="Enter your name">
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Your Birthday Message</label>
                        <textarea id="message" placeholder="Write a special message for Lochan..."></textarea>
                    </div>
                    
                    <button class="btn" id="send-message">Send Secret Message <i class="fas fa-paper-plane"></i></button>
                    <div id="message-status" style="text-align: center; margin-top: 15px;"></div>
                </div>
            </div>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 25px; font-size: 1.8rem; color: var(--pastel-blue);">View Received Messages</h3>
                <div id="message-list" style="margin-top: 20px; max-height: 400px; overflow-y: auto;">
                    <!-- Messages will be displayed here -->
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" id="view-messages">View Messages</button>
                </div>
            </div>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 25px; font-size: 1.8rem; color: var(--pastel-blue);">Spin for a Random Message</h3>
                <div class="spinner-container">
                    <div class="spinner-wheel" id="spinner-wheel">
                        <div class="spinner-pointer"></div>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" id="spin-btn">Spin the Wheel!</button>
                    </div>
                    <div class="spinner-result" id="spinner-result">
                        <h3>Your Birthday Message</h3>
                        <p>Spin the wheel to see a random message!</p>
                        <div class="message-text" id="spinner-message"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Surprise Page -->
        <section id="surprise" class="page">
            <h2 class="section-title">Final Surprise!</h2>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 30px; font-size: 1.8rem; color: var(--pastel-blue);">Make a Birthday Wish!</h3>
                
                <div class="cake-container" id="cake-container">
                    <!-- Cake and candles will be added by JavaScript -->
                </div>
                
                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn blow-btn" id="blow-btn"><i class="fas fa-wind"></i> Blow Out Candles!</button>
                </div>
                
                <div style="text-align: center; margin-top: 40px; display: none;" id="birthday-song">
                    <h4 style="font-size: 2rem; color: var(--pastel-yellow); margin-bottom: 15px;">🎶 Happy Birthday to You! 🎶</h4>
                    <p style="font-size: 1.2rem; margin-bottom: 20px;">Make your wish, Lochan! This year will be amazing!</p>
                    <audio id="birthday-audio" controls autoplay style="margin-top: 20px; width: 100%; max-width: 400px;">
                        <source src= "C:\Users\rifsa\Downloads\bb.mp3" type="audio/mpeg"> <!-- Placeholder audio -->
                    </audio>
                </div>
            </div>
            
            <div class="card">
                <h3 style="text-align: center; margin-bottom: 30px; font-size: 1.8rem; color: var(--pastel-blue);">Your Cosmic Birthday Playlist</h3>
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="playlist-item">
                        <div style="display: flex; align-items: center;">
                            <div style="font-size: 2rem; margin-right: 20px; color: var(--pastel-pink);">🎵</div>
                            <div>
                                <div style="font-weight: bold; font-size: 1.3rem; color: var(--pastel-yellow);">Nothing - Bruno Major</div>
                                <div>Your favorite song!</div>
                            </div>
                        </div>
                        <audio controls style="width: 100%; margin-top: 10px;">
                            <source src="C:\Users\rifsa\Downloads\nothing_bruno_major.mp3" type="audio/mpeg"> <!-- Placeholder audio -->
                        </audio>
                    </div>
                    <div class="playlist-item">
                        <div style="display: flex; align-items: center;">
                            <div style="font-size: 2rem; margin-right: 20px; color: var(--pastel-blue);">🎵</div>
                            <div>
                                <div style="font-weight: bold; font-size: 1.3rem; color: var(--pastel-yellow);">Attention - Charlie Puth</div>
                                <div>Your favorite artist</div>
                            </div>
                        </div>
                        <audio controls style="width: 100%; margin-top: 10px;">
                            <source src="C:\Users\rifsa\Downloads\Attention-(Mr-Jat.in).mp3" type="audio/mpeg"> <!-- Placeholder audio -->
                        </audio>
                    </div>
                    <div class="playlist-item">
                        <div style="display: flex; align-items: center;">
                            <div style="font-size: 2rem; margin-right: 20px; color: var(--pastel-purple);">🎵</div>
                            <div>
                                <div style="font-weight: bold; font-size: 1.3rem; color: var(--pastel-yellow);">There is a light that never goes out - The Smiths</div>
                                <div></div>
                            </div>
                        </div>
                        <audio controls style="width: 100%; margin-top: 10px;">
                            <source src="C:\Users\rifsa\Downloads\videoplayback.mp4" type="audio/mpeg"> <!-- Placeholder audio -->
                        </audio>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- Footer -->
    <footer>
        <p style="font-size: 1.2rem; margin-bottom: 10px;">Made with <span class="hearts">💗</span> for Lochan</p>
        <p style="font-size: 1.3rem;">You're my sunshine you're my Honey Pie! ✨</p>
    </footer>
    
    <!-- Game Modals -->
    <div id="game-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="section-title" id="modal-title">Game Title</h2>
            <div class="game-area" id="game-container">
                <!-- Game content will be loaded here -->
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" id="restart-btn">Restart Game</button>
            </div>
        </div>
    </div>

    <!-- Custom Alert/Confirmation Modal -->
    <div id="custom-alert-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="alert-close-btn">&times;</span>
            <h3 id="alert-title" class="section-title" style="font-size: 1.8rem; margin-top: 0;"></h3>
            <p id="alert-message" style="text-align: center; margin-bottom: 30px; font-size: 1.1rem;"></p>
            <div style="text-align: center;">
                <button class="btn" id="alert-ok-btn">OK</button>
            </div>
        </div>
    </div>

    <script>
        // Custom Alert/Confirmation Function
        function showAlert(title, message) {
            const modal = document.getElementById('custom-alert-modal');
            const modalTitle = document.getElementById('alert-title');
            const modalMessage = document.getElementById('alert-message');
            const okBtn = document.getElementById('alert-ok-btn');
            const closeBtn = document.getElementById('alert-close-btn');

            modalTitle.textContent = title;
            modalMessage.textContent = message;
            modal.classList.add('active');

            return new Promise(resolve => {
                const closeHandler = () => {
                    modal.classList.remove('active');
                    okBtn.removeEventListener('click', okHandler);
                    closeBtn.removeEventListener('click', closeHandler);
                    resolve(true); // Always resolve true for simple alerts
                };
                const okHandler = () => {
                    modal.classList.remove('active');
                    okBtn.removeEventListener('click', okHandler);
                    closeBtn.removeEventListener('click', closeHandler);
                    resolve(true);
                };

                okBtn.addEventListener('click', okHandler);
                closeBtn.addEventListener('click', closeHandler);
            });
        }

        // Create star background
        function createStars(containerId, count, size) {
            const container = document.getElementById(containerId);
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.setProperty('--duration', `${Math.random() * 5 + 3}s`);
                star.style.setProperty('--float-duration', `${Math.random() * 10 + 5}s`);
                container.appendChild(star);
            }
        }
        
        // Initialize stars
        createStars('stars', 250, 3);
        
        // Navigation functionality
        document.querySelectorAll('.nav-btn').forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Hide all pages
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // Show selected page
                const pageId = this.getAttribute('data-page');
                document.getElementById(pageId).classList.add('active');
                
                // Scroll to top
                window.scrollTo(0, 0);
                
                // Special actions for specific pages
                if (pageId === 'surprise') {
                    createCake();
                }
                if (pageId === 'messages') {
                    loadMessages();
                    setupSpinner();
                }
            });
        });
        
        // Explore button
        document.getElementById('explore-btn').addEventListener('click', function() {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            
            document.querySelector('[data-page="about"]').classList.add('active');
            document.getElementById('about').classList.add('active');
            
            window.scrollTo(0, 0);
        });
        
        // Create animated hearts effect
        function createHearts() {
            const colors = ['#FF6B6B', '#FF8E8E', '#FFB5B5', '#FFD1DC'];
            const container = document.createElement('div');
            container.style.position = 'fixed';
            container.style.top = '0';
            container.style.left = '0';
            container.style.width = '100%';
            container.style.height = '100%';
            container.style.pointerEvents = 'none';
            container.style.zIndex = '1000';
            document.body.appendChild(container);
            
            for (let i = 0; i < 50; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = '❤️';
                heart.style.position = 'absolute';
                heart.style.fontSize = `${Math.random() * 30 + 20}px`;
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.top = '100%';
                heart.style.opacity = Math.random() + 0.5;
                container.appendChild(heart);
                
                // Animate heart
                const animation = heart.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { 
                        transform: `translateY(-${window.innerHeight + 100}px) rotate(${Math.random() * 360}deg)`, 
                        opacity: 0 
                    }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'cubic-bezier(0.1,0.9,0.57,1)'
                });
                
                // Remove heart after animation
                animation.onfinish = () => heart.remove();
            }
            
            // Remove container after animation
            setTimeout(() => container.remove(), 5000);
        }
        
        // Quick surprise button
        document.getElementById('quick-surprise').addEventListener('click', function() {
            createHearts();
            
            // Play a sound
            const audio = new Audio('https://www.soundjay.com/misc/sounds/magic-chime-01.mp3'); // Placeholder audio
            audio.play();
            
            // Show message using custom alert
            showAlert("✨ Surprise!", "Lochan, U're the most amazing person I've ever met! ✨");
        });
        
        // Create cake with candles
        function createCake() {
            const cakeContainer = document.getElementById('cake-container');
            cakeContainer.innerHTML = ''; // Clear existing content
            
            // Create cake elements
            const cake = document.createElement('div');
            cake.className = 'cake';
            cakeContainer.appendChild(cake);
            
            const cakeLayer = document.createElement('div');
            cakeLayer.className = 'cake-layer';
            cakeContainer.appendChild(cakeLayer);
            
            const cakeTop = document.createElement('div');
            cakeTop.className = 'cake-top';
            cakeContainer.appendChild(cakeTop); // Append cakeTop to container
            
            // Candle creation
            const candleCount = 22;
            const cakeTopWidth = 180; // From CSS for .cake-top
            const candleWidth = 8; // From CSS for .candle
            const flameWidth = 15; // From CSS for .flame
            
            // Calculate the total width needed for all candles and their spacing
            // We want to distribute them across the 180px width of the cake-top
            // Let's leave a small margin from the edges, say 5px on each side.
            const marginFromEdge = 5;
            const effectiveWidthForCandles = cakeTopWidth - (2 * marginFromEdge); // 170px
            
            let spacingBetweenCandles = 0;
            if (candleCount > 1) {
                spacingBetweenCandles = effectiveWidthForCandles / (candleCount - 1);
            }

            for (let i = 0; i < candleCount; i++) {
                const candle = document.createElement('div');
                candle.className = 'candle';
                
                // Calculate left position for each candle
                // Start from the left edge of the cake-top, plus a small offset
                let leftPosition;
                if (candleCount === 1) {
                    // If only one candle, center it on the cake top
                    leftPosition = (cakeContainer.offsetWidth / 2) - (candleWidth / 2);
                } else {
                    // Calculate starting point of cake-top relative to cakeContainer
                    const cakeTopOffsetLeft = (cakeContainer.offsetWidth - cakeTopWidth) / 2;
                    leftPosition = cakeTopOffsetLeft + marginFromEdge + (i * spacingBetweenCandles);
                }
                
                candle.style.left = `${leftPosition}px`;
                cakeContainer.appendChild(candle);

                const flame = document.createElement('div');
                flame.className = 'flame';
                // Adjust flame position relative to its candle
                flame.style.left = `${leftPosition + (candleWidth / 2) - (flameWidth / 2)}px`; // Center flame on candle
                cakeContainer.appendChild(flame);
            }
        }
        
        // Blow out candles
        document.getElementById('blow-btn').addEventListener('click', function() {
            // Animate candles
            document.querySelectorAll('.flame').forEach((flame, index) => {
                setTimeout(() => {
                    flame.style.animation = 'none';
                    flame.style.opacity = '0';
                    flame.style.transform = 'scale(0)';
                }, index * 150);
            });
            
            // Show birthday song
            setTimeout(() => {
                document.getElementById('birthday-song').style.display = 'block';
                document.getElementById('birthday-audio').play();
                createHearts();
            }, 2500);
            
            // Change button text
            this.innerHTML = '<i class="fas fa-check"></i> Candles Blown Out!';
            this.disabled = true;
        });
        
        // Camera functionality
        const video = document.getElementById('video-preview');
        const canvas = document.getElementById('canvas');
        const startCamera = document.getElementById('start-camera');
        const captureBtn = document.getElementById('capture-btn');
        const ctx = canvas.getContext('2d');
        
        startCamera.addEventListener('click', async function() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                video.srcObject = stream;
                captureBtn.disabled = false;
            } catch (err) {
                console.error("Error accessing camera:", err);
                showAlert("Camera Error", "Could not access the camera. Please check permissions.");
            }
        });
        
        captureBtn.addEventListener('click', function() {
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            
            // Convert to data URL and display
            const dataURL = canvas.toDataURL('image/png');
            
            // Create a new memory item with the captured photo
            const gallery = document.querySelector('.gallery');
            const newItem = document.createElement('div');
            newItem.className = 'memory-item';
            newItem.innerHTML = `
                <img src="${dataURL}" class="memory-img" alt="Captured photo">
                <div class="memory-caption">New Birthday Memory!</div>
            `;
            gallery.prepend(newItem);
            
            showAlert("Photo Captured!", "Photo captured and added to memories!");
        });
        
        // Voice recorder functionality
        const startRecording = document.getElementById('start-recording');
        const stopRecording = document.getElementById('stop-recording');
        const audioPlayback = document.getElementById('audio-playback');
        let mediaRecorder;
        let audioChunks = [];
        
        startRecording.addEventListener('click', async function() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                mediaRecorder = new MediaRecorder(stream);
                
                mediaRecorder.ondataavailable = function(event) {
                    audioChunks.push(event.data);
                };
                
                mediaRecorder.onstop = function() {
                    const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                    const audioUrl = URL.createObjectURL(audioBlob);
                    audioPlayback.src = audioUrl;
                    audioChunks = [];
                };
                
                mediaRecorder.start();
                startRecording.disabled = true;
                stopRecording.disabled = false;
                
                showAlert("Recording Started", "Recording audio...");
            } catch (err) {
                console.error("Error accessing microphone:", err);
                showAlert("Microphone Error", "Could not access the microphone. Please check permissions.");
            }
        });
        
        stopRecording.addEventListener('click', function() {
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
                startRecording.disabled = false;
                stopRecording.disabled = true;
                showAlert("Recording Stopped", "Recording stopped. Press play to listen.");
            }
        });
        
        // Message functionality
        document.getElementById('send-message').addEventListener('click', function() {
            const sender = document.getElementById('sender').value;
            const message = document.getElementById('message').value;
            
            if (!sender || !message) {
                document.getElementById('message-status').textContent = "Please fill in all fields!";
                document.getElementById('message-status').style.color = "var(--accent)";
                return;
            }
            
            // Save message to localStorage
            const messages = JSON.parse(localStorage.getItem('birthdayMessages') || '[]');
            messages.push({ 
                sender: sender, 
                message: message, 
                date: new Date().toLocaleString() 
            });
            localStorage.setItem('birthdayMessages', JSON.stringify(messages));
            
            document.getElementById('message-status').textContent = "Message sent successfully!";
            document.getElementById('message-status').style.color = "var(--pastel-blue)";
            
            // Clear form
            document.getElementById('sender').value = "";
            document.getElementById('message').value = "";
            
            // Show hearts animation
            createHearts();
            
            // Update spinner
            setupSpinner();
        });
        
        // Load and display messages
        function loadMessages() {
            const messageList = document.getElementById('message-list');
            const messages = getAllMessages();
            
            if (messages.length === 0) {
                messageList.innerHTML = '<p style="text-align: center; color: var(--pastel-blue);">No messages yet. Be the first to send one!</p>';
                return;
            }
            
            messageList.innerHTML = '';
            messages.forEach(msg => {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message-item';
                messageDiv.innerHTML = `
                    <div class="message-sender">${msg.sender}</div>
                    <div>${msg.message}</div>
                    <div style="font-size: 0.8rem; color: var(--pastel-blue); margin-top: 5px;">${msg.date}</div>
                `;
                messageList.appendChild(messageDiv);
            });
        }
        
        document.getElementById('view-messages').addEventListener('click', loadMessages);
        
        // Get all messages including default ones
        function getAllMessages() {
            const storedMessages = JSON.parse(localStorage.getItem('birthdayMessages') || '[]');
            const defaultMessages = [
                { sender: "Rif", message: "Happy Birthday Ochuu!", date: "Today" },
                { sender: "Rif", message: "I love u babyyy!", date: "Today" }
            ];
            
            return [...defaultMessages, ...storedMessages];
        }
        
        // Spinner functionality
        function setupSpinner() {
            const spinnerWheel = document.getElementById('spinner-wheel');
            spinnerWheel.innerHTML = '<div class="spinner-pointer"></div>';
            
            const messages = getAllMessages();
            
            if (messages.length === 0) {
                spinnerWheel.innerHTML = '<div class="spinner-pointer"></div><div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; text-align: center;">No messages yet</div>';
                return;
            }
            
            // Create segments
            const segmentAngle = 360 / messages.length;
            const colors = [
                '#FF6B6B', '#FF8E8E', '#FFB5B5', '#FFD1DC',
                '#B5EAD7', '#C7CEEA', '#FFEBAE', '#8A6DD1'
            ];
            
            messages.forEach((msg, index) => {
                const segment = document.createElement('div');
                segment.className = 'spinner-segment';
                segment.style.transform = `rotate(${index * segmentAngle}deg)`;
                
                const segmentInner = document.createElement('div');
                segmentInner.className = 'spinner-segment-inner';
                segmentInner.style.backgroundColor = colors[index % colors.length];
                segmentInner.style.setProperty('--segment-color', colors[index % colors.length]); // Set CSS variable
                segmentInner.textContent = msg.sender;
                
                segment.appendChild(segmentInner);
                spinnerWheel.appendChild(segment);
            });
        }
        
        // Spin button functionality
        document.getElementById('spin-btn').addEventListener('click', function() {
            const messages = getAllMessages();
            if (messages.length === 0) {
                showAlert("No Messages", "There are no messages to spin for yet!");
                return;
            }
            
            const spinnerWheel = document.getElementById('spinner-wheel');
            const spinBtn = this;
            const resultDiv = document.getElementById('spinner-result');
            
            spinBtn.disabled = true;
            
            // Random rotation (5-10 full rotations + random segment)
            const randomIndex = Math.floor(Math.random() * messages.length);
            const segmentAngle = 360 / messages.length;
            const rotation = (360 * 5) + (randomIndex * segmentAngle); // Ensure at least 5 full spins
            
            // Reset transition and transform to allow re-spin from current position
            spinnerWheel.style.transition = 'none';
            spinnerWheel.style.transform = `rotate(${spinnerWheel.dataset.lastRotation || 0}deg)`; // Reset to last known rotation
            
            // Force reflow
            spinnerWheel.offsetHeight; 

            // Apply new rotation with transition
            spinnerWheel.style.transition = 'transform 4s cubic-bezier(0.2, 0.8, 0.2, 1)';
            spinnerWheel.style.transform = `rotate(${rotation}deg)`;
            spinnerWheel.dataset.lastRotation = rotation; // Store last rotation for next spin
            
            // After spinning, show result
            setTimeout(() => {
                const selectedMessage = messages[randomIndex];
                resultDiv.innerHTML = `
                    <h3>Message from ${selectedMessage.sender}</h3>
                    <div class="message-text">${selectedMessage.message}</div>
                `;
                spinBtn.disabled = false;
            }, 4000);
        });
        
        // Game modals
        const modal = document.getElementById('game-modal');
        const closeBtn = document.querySelector('.close-btn');
        const modalTitle = document.getElementById('modal-title');
        const gameContainer = document.getElementById('game-container');
        const playButtons = document.querySelectorAll('.play-btn');
        const restartBtn = document.getElementById('restart-btn');
        
        // Close modal
        closeBtn.addEventListener('click', () => {
            modal.classList.remove('active');
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });
        
        // Restart game
        restartBtn.addEventListener('click', function() {
            const currentGame = modalTitle.textContent;
            switch(currentGame) {
                case 'Charlie Puth Quiz':
                    loadMusicQuiz();
                    break;
                case 'Harry Potter Quiz':
                    loadHarryPotterQuiz();
                    break;
                case 'Interstellar Challenge':
                    loadInterstellarGame();
                    break;
            }
        });
        
        // Game buttons
        playButtons.forEach(button => {
            button.addEventListener('click', function() {
                const gameCard = this.closest('.game-card');
                const gameType = gameCard.getAttribute('data-game');
                
                modal.classList.add('active');
                modalTitle.textContent = gameCard.querySelector('.game-title').textContent;
                
                // Load game based on type
                switch(gameType) {
                    case 'music':
                        loadMusicQuiz();
                        break;
                    case 'harry':
                        loadHarryPotterQuiz();
                        break;
                    case 'interstellar':
                        loadInterstellarGame();
                        break;
                }
            });
        });
        
        // Music quiz
        function loadMusicQuiz() {
            gameContainer.innerHTML = `
                <h3 style="margin-bottom: 20px; color: var(--pastel-yellow);">Charlie Puth Quiz</h3>
                <div id="question" style="font-size: 1.3rem; margin-bottom: 20px; text-align: center;">Loading questions...</div>
                <div id="options" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; width: 100%; max-width: 500px;"></div>
                <div id="result" style="margin-top: 20px; font-size: 1.2rem; text-align: center;"></div>
                <div style="margin-top: 20px; display: flex; justify-content: center;">
                    <div style="font-size: 1.2rem;">Score: <span id="score">0</span>/5</div>
                </div>
            `;
            
            const questions = [
                {
                    question: "What was Charlie Puth's breakthrough hit in 2015?",
                    options: ["See You Again", "Attention", "We Don't Talk Anymore", "One Call Away"],
                    answer: 0
                },
                {
                    question: "Which instrument did Charlie Puth study at Berklee College of Music?",
                    options: ["Guitar", "Piano", "Drums", "Saxophone"],
                    answer: 1
                },
                {
                    question: "What is the name of Charlie Puth's debut studio album?",
                    options: ["Voicenotes", "Nine Track Mind", "Charlie", "Some Type of Love"],
                    answer: 1
                },
                {
                    question: "In which year was Charlie Puth born?",
                    options: ["1988", "1990", "1991", "1992"],
                    answer: 2
                }
            ];
            
            let currentQuestion = 0;
            let score = 0;
            
            function displayQuestion() {
                const q = questions[currentQuestion];
                document.getElementById('question').textContent = q.question;
                
                const optionsEl = document.getElementById('options');
                optionsEl.innerHTML = '';
                
                q.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'btn';
                    button.textContent = option;
                    button.onclick = () => checkAnswer(index);
                    optionsEl.appendChild(button);
                });
                
                document.getElementById('result').textContent = '';
            }
            
            function checkAnswer(selectedIndex) {
                const q = questions[currentQuestion];
                const resultEl = document.getElementById('result');
                
                if (selectedIndex === q.answer) {
                    resultEl.textContent = 'Correct!';
                    resultEl.style.color = 'var(--pastel-blue)';
                    score++;
                    document.getElementById('score').textContent = score;
                } else {
                    resultEl.textContent = `Wrong! The correct answer was: ${q.options[q.answer]}`;
                    resultEl.style.color = 'var(--accent)';
                }
                
                currentQuestion++;
                
                if (currentQuestion < questions.length) {
                    setTimeout(displayQuestion, 1500);
                } else {
                    setTimeout(endQuiz, 1500);
                }
            }
            
            function endQuiz() {
                document.getElementById('question').textContent = 'Quiz Completed!';
                document.getElementById('options').innerHTML = '';
                document.getElementById('result').textContent = `Your final score: ${score}/${questions.length}`;
                document.getElementById('result').style.fontSize = '1.5rem';
                document.getElementById('result').style.fontWeight = 'bold';
                
                if (score === questions.length) {
                    createHearts();
                }
            }
            
            displayQuestion();
        }
        
        // Harry Potter quiz
        function loadHarryPotterQuiz() {
            gameContainer.innerHTML = `
                <h3 style="margin-bottom: 20px; color: var(--pastel-yellow);">Harry Potter Quiz</h3>
                <div id="question" style="font-size: 1.3rem; margin-bottom: 20px; text-align: center;">Loading questions...</div>
                <div id="options" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; width: 100%; max-width: 500px;"></div>
                <div id="result" style="margin-top: 20px; font-size: 1.2rem; text-align: center;"></div>
                <div style="margin-top: 20px; display: flex; justify-content: center;">
                    <div style="font-size: 1.2rem;">Score: <span id="score">0</span>/5</div>
                </div>
            `;
            
            const questions = [
                {
                    question: "What position does Harry play in Quidditch?",
                    options: ["Seeker", "Chaser", "Beater", "Keeper"],
                    answer: 0
                },
                {
                    question: "What is the core of Harry's wand?",
                    options: ["Phoenix feather", "Dragon heartstring", "Unicorn hair", "Veela hair"],
                    answer: 0
                },
                {
                    question: "Who is the Half-Blood Prince?",
                    options: ["Harry Potter", "Severus Snape", "Albus Dumbledore", "Tom Riddle"],
                    answer: 1
                },
                {
                    question: "What animal represents Hufflepuff house?",
                    options: ["Lion", "Eagle", "Badger", "Serpent"],
                    answer: 2
                },
                {
                    question: "What is the name of Harry's owl?",
                    options: ["Hedwig", "Errol", "Pigwidgeon", "Crookshanks"],
                    answer: 0
                }
            ];
            
            let currentQuestion = 0;
            let score = 0;
            
            function displayQuestion() {
                const q = questions[currentQuestion];
                document.getElementById('question').textContent = q.question;
                
                const optionsEl = document.getElementById('options');
                optionsEl.innerHTML = '';
                
                q.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'btn';
                    button.textContent = option;
                    button.onclick = () => checkAnswer(index);
                    optionsEl.appendChild(button);
                });
                
                document.getElementById('result').textContent = '';
            }
            
            function checkAnswer(selectedIndex) {
                const q = questions[currentQuestion];
                const resultEl = document.getElementById('result');
                
                if (selectedIndex === q.answer) {
                    resultEl.textContent = 'Correct!';
                    resultEl.style.color = 'var(--pastel-blue)';
                    score++;
                    document.getElementById('score').textContent = score;
                } else {
                    resultEl.textContent = `Wrong! The correct answer was: ${q.options[q.answer]}`;
                    resultEl.style.color = 'var(--accent)';
                }
                
                currentQuestion++;
                
                if (currentQuestion < questions.length) {
                    setTimeout(displayQuestion, 1500);
                } else {
                    setTimeout(endQuiz, 1500);
                }
            }
            
            function endQuiz() {
                document.getElementById('question').textContent = 'Quiz Completed!';
                document.getElementById('options').innerHTML = '';
                document.getElementById('result').textContent = `Your final score: ${score}/${questions.length}`;
                document.getElementById('result').style.fontSize = '1.5rem';
                document.getElementById('result').style.fontWeight = 'bold';
                
                if (score === questions.length) {
                    createHearts();
                }
            }
            
            displayQuestion();
        }
        
        // Interstellar game - FIXED VERSION
        function loadInterstellarGame() {
            gameContainer.innerHTML = `
                <h3 style="margin-bottom: 20px; color: var(--pastel-yellow);">Interstellar Challenge</h3>
                <p style="margin-bottom: 20px;">Navigate your spaceship through the asteroid field using arrow keys! Collect presents and avoid asteroids.</p>
                <div id="game-board">
                    <div id="spaceship">🚀</div>
                    <div id="score-display">Score: 0</div>
                    <div id="timer-display">Time: 30s</div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" id="start-game">Start Game</button>
                </div>
            `;
            
            const startBtn = document.getElementById('start-game');
            startBtn.addEventListener('click', function() {
                startBtn.style.display = 'none';
                startInterstellarGame();
            });
        }
        
        function startInterstellarGame() {
            const gameBoard = document.getElementById('game-board');
            const spaceship = document.getElementById('spaceship');
            const scoreDisplay = document.getElementById('score-display');
            const timerDisplay = document.getElementById('timer-display');
            
            let score = 0;
            let timeLeft = 30;
            let gameActive = true;
            let spaceshipX = gameBoard.offsetWidth / 2 - spaceship.offsetWidth / 2; // Initial X position in pixels
            let asteroids = [];
            let presents = [];
            let gameLoopInterval;
            let timerInterval;

            // Function to get random emoji for asteroids
            function getRandomAsteroidEmoji() {
                const emojis = ['☄️', '🌑', '🪐', '💫', '🌠'];
                return emojis[Math.floor(Math.random() * emojis.length)];
            }

            // Function to get random emoji for presents
            function getRandomPresentEmoji() {
                const emojis = ['🎁', '🎂', '🎈', '✨', '🌟'];
                return emojis[Math.floor(Math.random() * emojis.length)];
            }
            
            // Create game elements
            function createAsteroid() {
                if (!gameActive) return;
                
                const asteroid = document.createElement('div');
                asteroid.classList.add('asteroid');
                asteroid.textContent = getRandomAsteroidEmoji(); // Use emoji
                asteroid.style.top = '0';
                asteroid.style.left = `${Math.random() * (gameBoard.offsetWidth - 30)}px`; // Use px for precise positioning
                gameBoard.appendChild(asteroid);
                
                asteroids.push({ 
                    element: asteroid,
                    top: 0,
                    left: parseFloat(asteroid.style.left),
                    speed: Math.random() * 3 + 2
                });
            }
            
            function createPresent() {
                if (!gameActive) return;
                
                const present = document.createElement('div');
                present.classList.add('present');
                present.textContent = getRandomPresentEmoji(); // Use emoji
                present.style.top = '0';
                present.style.left = `${Math.random() * (gameBoard.offsetWidth - 25)}px`; // Use px for precise positioning
                gameBoard.appendChild(present);
                
                presents.push({
                    element: present,
                    top: 0,
                    left: parseFloat(present.style.left),
                    speed: Math.random() * 2 + 1
                });
            }
            
            // Move game elements
            function moveElements() {
                if (!gameActive) return;
                
                // Move asteroids
                asteroids.forEach((asteroid, index) => {
                    asteroid.top += asteroid.speed;
                    asteroid.element.style.top = `${asteroid.top}px`;
                    
                    // Remove if out of bounds
                    if (asteroid.top > gameBoard.offsetHeight) {
                        asteroid.element.remove();
                        asteroids.splice(index, 1);
                    }
                    
                    // Check collision
                    if (checkCollision(spaceship, asteroid.element)) {
                        endGame();
                    }
                });
                
                // Move presents
                presents.forEach((present, index) => {
                    present.top += present.speed;
                    present.element.style.top = `${present.top}px`;
                    
                    // Remove if out of bounds
                    if (present.top > gameBoard.offsetHeight) {
                        present.element.remove();
                        presents.splice(index, 1);
                    }
                    
                    // Check collection
                    if (checkCollision(spaceship, present.element)) {
                        score += 10;
                        scoreDisplay.textContent = `Score: ${score}`;
                        present.element.remove();
                        presents.splice(index, 1);
                        
                        // Play collection sound
                        const collectSound = new Audio('https://www.soundjay.com/misc/sounds/magic-chime-01.mp3'); // Placeholder audio
                        collectSound.play();
                    }
                });
                
                gameLoopInterval = requestAnimationFrame(moveElements);
            }
            
            // Check collision
            function checkCollision(element1, element2) {
                const rect1 = element1.getBoundingClientRect();
                const rect2 = element2.getBoundingClientRect();
                
                return (
                    rect1.left < rect2.right &&
                    rect1.right > rect2.left &&
                    rect1.top < rect2.bottom &&
                    rect1.bottom > rect2.top
                );
            }
            
            // Game controls
            document.addEventListener('keydown', (e) => {
                if (!gameActive) return;
                
                const spaceshipWidth = spaceship.offsetWidth;
                const gameBoardWidth = gameBoard.offsetWidth;
                const moveAmount = 15; // Pixels to move

                if (e.key === 'ArrowLeft') {
                    spaceshipX = Math.max(0, spaceshipX - moveAmount);
                } else if (e.key === 'ArrowRight') {
                    spaceshipX = Math.min(gameBoardWidth - spaceshipWidth, spaceshipX + moveAmount);
                }
                
                spaceship.style.left = `${spaceshipX}px`;
            });

            // Touch controls for mobile
            let touchStartX = 0;
            spaceship.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
            });

            spaceship.addEventListener('touchmove', (e) => {
                if (!gameActive) return;
                const touchCurrentX = e.touches[0].clientX;
                const deltaX = touchCurrentX - touchStartX;
                touchStartX = touchCurrentX; // Update start for continuous movement

                const spaceshipWidth = spaceship.offsetWidth;
                const gameBoardWidth = gameBoard.offsetWidth;
                
                spaceshipX += deltaX;
                spaceshipX = Math.max(0, Math.min(gameBoardWidth - spaceshipWidth, spaceshipX));
                spaceship.style.left = `${spaceshipX}px`;
                e.preventDefault(); // Prevent scrolling
            });
            
            // Game timer
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    endGame();
                    return;
                }
                
                timeLeft--;
                timerDisplay.textContent = `Time: ${timeLeft}s`;
            }, 1000);

            // Spawn elements at intervals
            let asteroidSpawnInterval;
            let presentSpawnInterval;

            function startSpawning() {
                asteroidSpawnInterval = setInterval(createAsteroid, 1000);
                presentSpawnInterval = setInterval(createPresent, 1500);
            }
            
            // End game
            function endGame() {
                clearInterval(timerInterval);
                clearInterval(asteroidSpawnInterval);
                clearInterval(presentSpawnInterval);
                cancelAnimationFrame(gameLoopInterval);
                gameActive = false;
                timerDisplay.textContent = "Game Over!";
                timerDisplay.style.color = "var(--accent)";
                
                // Remove all asteroids and presents
                asteroids.forEach(asteroid => asteroid.element.remove());
                presents.forEach(present => present.element.remove());
                asteroids = [];
                presents = [];
                
                // Show final score
                const finalScore = document.createElement('div');
                finalScore.style.position = 'absolute';
                finalScore.style.top = '50%';
                finalScore.style.left = '50%';
                finalScore.style.transform = 'translate(-50%, -50%)';
                finalScore.style.fontSize = '2rem';
                finalScore.style.color = 'var(--pastel-yellow)';
                finalScore.textContent = `Final Score: ${score}`;
                gameBoard.appendChild(finalScore);
                
                if (score > 50) {
                    createHearts();
                }
            }
            
            // Set initial spaceship position
            spaceship.style.left = `${spaceshipX}px`;

            // Start the game
            startSpawning();
            moveElements();
        }
        
        // Create cake and confetti on page load
        window.addEventListener('load', function() {
            createCake();
            setupSpinner();
        });
    </script>
</body>
</html>
